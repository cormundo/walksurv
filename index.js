
// Get the modal
var modal = document.getElementById('id01');

var username;

function start() {
    username = document.getElementById("user_PID").value;
    alert("your PID is " + username);
    while (count > 20);
        modal.style.display = "none";
        document.getElementById("surveyElement").style="display:inline-block;width:100%;";
        document.getElementById("streetscape").style="display:visible";
        document.getElementById("btn1").style="display:none";
  };




Survey
     .StylesManager
     .applyTheme("modern");

var knlist = {
kn10:"2L1qvq6Tg6rMhEwNshr6dQ",
kn11:"2N_Cl_Gl5fX8_TdLgHP3rQ",
kn12:"2RbpjbhM3_EfzejfPgzwAw",
kn13:"2rP8y_ub_alGrzAK_aZrEg",
kn14:"2S8O9KBwxRlvtZX6kjyS0y",
kn15:"2Ua5EnPVDwd7LGq6UbT2bQ",
kn16:"3_17fNbyu2Yw8ozPx8BmkA",
kn17:"3LB0GSXXVadBlCMhSth3IA",
kn18:"48JvNwKSgvnWT8nqzWtE3Q",
kn19:"4CP5JE_mlMMzjvDMMgXncg",
kn20:"4dJehkQQTyxmFnIP01QbFw",
kn21:"4shCus0zOkJu65fn91C8og",
kn22:"4WQDuVZ23NrUKTaox2Jpwg",
kn23:"5awlOSauVSYO8HZlYQzKnQ",
kn24:"5FvrGo8K7FpsOTNrb1L0gg",
kn25:"5jnZ3smcYVQuLMJzvwIaxk",
kn26:"5osT-ObqEq1iMyhxpjkisA",
kn27:"67k8av90vf-HDBRw1Qz_GA",
kn28:"6DH8jYY4E3CaDDoL22hdug",
kn29:"6k44o9XG8LiKFBywd6OLbA",
kn30:"6Pr3kfKsCUq0Y4x8rVT2mA",
kn31:"6Y1Yq3HbAtjptEjZMP4zSg",
kn32:"6yl2pyv6uv52I4RvxxbVwH",
kn33:"7k-S4nk6Pt_mhxADXBjjuQ",
kn34:"7-Z5MiDe1fiSEJwH5Hkzjw",
kn35:"82c1TqgqE_cs0CNIUUZfKw",
kn36:"8BzX6vjUHmzV92MTip3ASQ",
kn37:"8dReZVerokfKm7eYz3hxHQ",
kn38:"8l--TnNDmSY5jot7ktMAHw",
kn39:"91T3Dixr6pxBMbdv3EoBK6",
kn40:"9bRgRpvIrYZ2q_TghCSvAg",
kn41:"9EHFKmFPF87xhSUWVZpqhQ",
kn42:"9pt2x4T6Lvwkndw3exbFYA",
kn43:"9vH7AM6iDbWckIx9kfSk5w",
kn44:"9XgWv857dH7ghGLFfO8QXw",
kn45:"A2EM0jP5xCATXm4y-vs-FQ",
kn46:"a63qmyr49X1xjgMK3bTIgo",
kn47:"a94EWsOfN7R_vHaSxFg2DA",
kn48:"AbbfZqBlXBw-r64JeSCl_A",
kn49:"abJ7o2HQbXCpPP9jDcFaB3",
kn50:"abOnnuHO4fxSM8ON_d8HXA",
kn51:"aCCyzUar7vbbsa_lZKOWuO",
kn52:"AIHZ7e2dPMzzm2ODysDbEA",
kn53:"AiqSRxjC6PGxeJEK9WMoZw",
kn54:"aO_-ursue5KdvjVabNCT6A",
kn55:"aSQYkeHZbfHK5jxlb-GLPg",
kn56:"AtnJE29uUDxradcLUOzGCk",
kn57:"AZl0tFXHGBmUnk3Vz6POQl",
kn58:"bDKE6VV26GjAxBUOHD31TA",
kn59:"beHbAU5-6VoS0usasFTn1g",
kn60:"BhgC94WyXEVPWTwc4wrpEW",
kn61:"bVtycWpM_EizB0Wd8zNLnQ",
kn62:"BY8kEy--dq2Lth3fPhdPKA",
kn63:"bYW5sULalzea3-MmsWgA9g",
kn64:"bZCUObHZUNGKnPR8f2ny4A",
kn65:"BzNF27GS-Y5uoFVnoRyYfr",
kn66:"cA8uwGiGczjw_k4hzS6_xQ",
kn67:"CILLXwge3n4x8RoyQvCk_A",
kn68:"cJ0l8x2AssDrosajBcmT7A",
kn69:"cjKAhf4jLc-Fd0qNTA9PfQ",
kn70:"crIgCUO-6fltVwgezut2MA",
kn71:"cSUUuYhbEsWxnCYLDA3z4w",
kn72:"cUmkYDYQDhCHB0UQhanSEF",
kn73:"d5GSkJ_WoIZs0uVkDJBe4w",
kn74:"d9lIAzUawRroj5kQ8RWsqQ",
kn75:"Dp5vqda9Fw02VRg9zVmLvw",
kn76:"dPqdQtFOYzt5I3dKpakXYg",
kn77:"dTz6-BZ7f2rgxanYS_H_-A",
kn78:"E_TF6xOgjOhnUlV_t27leA",
kn79:"E0EYshc7XsYJ3Q2YeOynCw",
kn80:"e5uUhWAoifJc4kDrAtV0GQ",
kn81:"EaE9iHtWK4iBciwhBojpzQ",
kn82:"EAjGBnWoYk0a4ovqauyGgw",
kn83:"EcgV-bUphVSMXTf9dz_sot",
kn84:"ehM7jkkwOAmJAZOTYUCf2w",
kn85:"EHQUNjqz1m1GJ1hU4rKKwQ",
kn86:"elmMtxHltkd4VDDr9PMDuz",
kn87:"eP2LME8u6LGioEiF9HFseQ",
kn88:"eUgCRATHpfEjxaWpdBZ1uy",
kn89:"exroCUoYl4wVzs7pKU_49w",
kn90:"fb7RMjWlWVwFeFJ01LHMJU",
kn91:"FCoB5vzuWP6QzQFMFZjlRA",
kn92:"fiKGasmM-hRLVcyttWTbhQ",
kn93:"Fm1X2BPaawzqu_3oQvGBbX",
kn94:"Ftrb5WUSBLh1b4iq5rScPg",
kn95:"g8QcE3OxGgNuykxuEA6H3Q",
kn96:"GSoAxmKt1HKSZJcNcHN7MA",
kn97:"GZRNTjjNlzZFMflsAFSHpQ",
kn98:"h7ohRpaDiZsV71leQQwYkp",
kn99:"haPOSPYwWmAeXPXhVYi2Yg",
kn19:"4CP5JE_mlMMzjvDMMgXncg",
}

var count = 10;

var knx;

function knxer(){
  if (window.count === 10) {
  return knx = "kn10";
  } else {
  return knx = ("kn" + count);
  }};

var keyname;

var mapilink;

function keynamer() {
		keyname = (knlist[knxer()]);
}


function mapilinker(){
	return mapilink = "https://images.mapillary.com/" + (keyname) + "/thumb-1024.jpg";
}

function imgur(){
	document.getElementById('streetscape').src= mapilinker();
  console.log (mapilink);
}

var json;

function jsoner (){
		knxer();
		keynamer();
		mapilinker();
    imgur();
		json = {
pages: [
{
name: "page1",
elements: [
{
type: "html",
name: (keyname),
visible: false,
html: (keyname)
},
{
type: "rating",
name: "Walkability",
title: "How walkable does this look to you"
},
{
type: "rating",
name: "Saftey",
title: "How safe does this look to you"
},
{
type: "rating",
name: "Comfortability",
title: "How comfortable does this look to you"
}
]
}
]
}
}

jsoner();


function update(){
      knxer();
      keynamer();
      mapilinker();
      imgur();
      jsoner();
}




     window.survey = new Survey.Model(json);

         survey
             .onComplete
             .add(function (result) {
                 var PID = username
                 var results = PID + "|||" + (keyname) + ":\n" + JSON.stringify(result.data, null, 3) + "|||" + (count) ;
                 document
                     .querySelector('#surveyResult')
                     .textContent = results;
             window.count ++;
             update();
             console.log(knx);
             console.log(count);
             console.log(keyname);
             console.log(mapilink);
             console.log(username);
             survey.clear();
             survey.render();
             });

         $("#surveyElement").Survey({model: survey});

